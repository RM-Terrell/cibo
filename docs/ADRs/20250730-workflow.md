# Workflow

I want to start this thing as a pure CLI application with text based file outputs. Then from there build a useful UI on top of that with charting. I need to keep in mind that this thing might take multiple tickers at some point and its core logic will be used by a web UI at some point.

## CLI

Input ticker, time range -> API call using both -> data return from API -> calculate or retrieve historical PE, time series price data, calculate projected price based off previous data (backwards looking statistic)

Each job should have an id associated with it. No knowledge of previous jobs should be needed so generate each ID on demand. TICKER+UNIX_TIME.

Outputs in flat text form:

Time series data: prices daily, fair value ratio daily
Single point data: historical average PE, historical median PE for time period.

Speaking of "jobs" is there a better term for these things? Dive? Let's go with dive.

## Version 1.0 reqs

No reqs survive first contact with the user but here's a baseline 1.0 version that can be extended as needed and useful in its original form.

- CLI only, no web ui yet
- Takes in ticker and date range params. Date range params are optional, if not provided return full range.
- Outputs in parquet form:
        - Outputs daily closing price for time period
        - Outputs historical median PE for that whole time period
        - Output historical mean PE for that whole time period
        - If time period is more than 1 business quarter, plot estimated value based on earnings and historical PE ratio estimation.
- Outputs in CLI:
        - Spinner when running (including network and computation)
        - Status output on completion (errors, success, etc)
        - Outputs file path of generated file

## Future feature ideas

- Future price estimation plot based on projected earnings from last quarterly report using same equation from before. See `novo_visualization` pngs.
- Dividend payments per quarter. This might be tricky as not all business pay out quarterly.
- Beat/miss indicators on chart from quarterly reports
- Logo in ASCII in CLI of company being analyzed. Find an api for this or a way to scrape it.
- Factor out core logic into code that can be called by a web UI
- Web UI
- csv format output
- tsv format output
- better error messages to user in console on missing api_keys config file or empty

## Some terms

- TUI: terminal UI
- WUI: web UI
